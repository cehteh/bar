#!/bash

# standard rule targets where other modules can hook in

# Linting means static analyzer w/o building anything
rule lint: -- info "Running lint checks..."

# building software
rule build_tests: -- info "Building tests..."
rule build_doc: -- info "Building docs..."
rule build_benches: -- info "Building benches..."
rule build_examples: -- info "Building examples..."
rule build_lib: -- info "Building library..."
rule build_bin: -- info "Building binaries..."

# running normal tests
rule test: build_tests -- info "Running tests..."
rule test_doc: -- info "Testing documentation..."

# running expensive tests
rule test_expensive: build_tests -- info "Running expensive tests..."

rule doc: build_doc test_doc -- info "Docs..."

# running benchmarks
rule bench: build_benches -- info "Running benchmarks..."

# audit for security issues
rule audit: -- info "Running dependency audit..."

# tag last good build
rule tag: -- info "Tagging last good build..."

# Activate maintainer curated hooks etc.
rule activate: -- info "Activating bar..."

# Usually versioned files should be source and not generated by any rule. Sometimes one wants
# exceptions from this rule. Like generating a README or CHANGELOG. This can be hooked into
# this rule. This can be run before committing or as part of the commit check where one checks
# for git_is_clean after running generate_versioned. When this failed then the user forgotten
# to update the versioned files.
rule generate_versioned: -- info "Generating versioned files..."

# hash_pwd
